\usepackage{latexsym}
\usepackage{amssymb}            % for \multimap (-o)
\usepackage{stmaryrd}           % for \binampersand (&), \bindnasrepma (\paar)

\newcommand{\argmin}{\arg\!\min}
\newcommand{\secondm}[0]{7pt}
\newcommand{\thirdm}[0]{14pt}

\newcommand{\texttab}[0]{~~~~}

\newcommand{\m}[1]{\mathsf{#1}}
\newcommand{\f}[1]{\framebox{#1}}

\newcommand{\eph}{\mathit{eph}}
\newcommand{\pers}{\mathit{pers}}
\newcommand{\um}[1]{\underline{\m{#1}}}

\newcommand{\seq}{\vdash}
\newcommand{\semi}{\mathrel{;}}
\newcommand{\lequiv}{\mathrel{\dashv\vdash}}
\newcommand{\tab}[0]{\;\;\;\;}

% symbols of linear logic
\newcommand{\lolli}{\multimap}
\newcommand{\tensor}{\otimes}
\newcommand{\with}{\mathbin{\binampersand}}
\newcommand{\paar}{\mathbin{\bindnasrepma}}
\newcommand{\one}{\mathbf{1}}
\newcommand{\zero}{\mathbf{0}}
\newcommand{\bang}{{!}}
\newcommand{\whynot}{{?}}
\newcommand{\bilolli}{\mathrel{\raisebox{1pt}{\ensuremath{\scriptstyle\circ}}{\lolli}}}
% \oplus, \top, \bot

\newcommand{\selector}[4]{[\; #1 \Rightarrow #2; \; #3 \;] \lolli #4}
\newcommand{\comprehension}[3]{\{ \; #1; \; #2; \; #3 \; \}}
\newcommand{\aggregate}[6]{[\; #1 \Rightarrow #2; \; #3; \; #4; \; #5; \; #6 \;]}

\newcommand{\taba}{\;\;\;}

% AST
\newcommand{\existsc}[2]{\m{exists}_{#1}. #2}

% sequent calculus
\newcommand{\seqnocut}[3]{#1 ; #2 \Rightarrow #3}
\newcommand{\defeq}{\buildrel\triangle\over =}
\newcommand{\seqx}[3]{#1 ; #2 \seq #3}
\newcommand{\compr}[1]{\m{def} \; #1}
\newcommand{\itersname}[0]{def}
\newcommand{\iters}[2]{\m{def}_{#1}^{*} \; #2}
\newcommand{\itersz}[1]{\m{def}_{#1}^{*}}
\newcommand{\iter}[3]{\m{def}_{#1}^{#2} \; #3}
\newcommand{\iterz}[2]{\m{def}_{#1}^{#2} \;}
\newcommand{\iterop}[2]{\mathtt{op} \; \widehat{#1} \; \widehat{#2}}
\newcommand{\iterunfold}[5]{\forall_{\widehat{#3}}. (#5 \widehat{x} \otimes \iter{#1}{#2}{(\iterop{#3}{#4})})}
\newcommand{\iterunfoldz}[2]{(\lambda_{\widehat{x}}. #1)\widehat{#2}}
\newcommand{\defsz}[1]{\mathcal{R}_{#1}}
\newcommand{\defsone}[2]{\defsz{#1}^{(#2)}}
\newcommand{\defstwo}[3]{\defsz{#1}^{(#2, #3)}}

% HLD
\newcommand{\stepz}{\m{step} \;}
\newcommand{\mzname}{\m{m}}
\newcommand{\mz}[3]{\mzname^{#1} \; #2 \rightarrow #3}
\newcommand{\dzname}{\m{der} \;}
\newcommand{\dz}[8]{\m{der}^{#1 ; #2} #3 ; #4; #5; #6; #7 \rightarrow #8}
\newcommand{\comp}[3]{\itersz{comp} #2 \; #3}
\newcommand{\compz}[3]{\iter{comp}{#1}{[#2 \lolli #3]}}
\newcommand{\compsz}[2]{\iters{comp}{[#1 \lolli #2]}}
\newcommand{\compunfold}[3]{(#2 \lolli #3) \otimes \compz{#1}{#2}{#3}}
\newcommand{\compunfoldz}[0]{\one}
\newcommand{\aggsz}[3]{\iters{agg}{[#1 \lolli #2 ; #3; x]}}
\newcommand{\aggz}[5]{\iter{agg}{#1}{[#2 \lolli #3 ; #4; #5]}}
\newcommand{\aggunfold}[5]{\forall_x. ((#2 \lolli #3)x \otimes
      \aggz{#1}{#2}{#3}{#4}{x :: #5})}
\newcommand{\aggunfoldz}[2]{(\lambda x. #1) #2}
\newcommand{\azname}{\m{app} \;}
\newcommand{\az}[5]{\m{app}^{#1 ; #3} \; #2 ; #4 \rightarrow #5}
\newcommand{\dozname}{\m{run} \;}
\newcommand{\doz}[7]{\m{run}^{#1 ; #4} \; #2 ; #3 \rightarrow #5 ; #6; #7}
\newcommand{\dozx}[5]{\m{run}^{#1 ; #4} \; #2 ; #3 \rightarrow #5}

% LLD
\newcommand{\stepo}{\m{step}_{LLD} \;}
\newcommand{\mo}{\m{mat}_{LLD} \;}
\newcommand{\contlld}{\m{cont}_{LLD}}
\newcommand{\cont}{\contlld \;}
\newcommand{\contclld}{\m{cont}_{LLDc}}
\newcommand{\contc}[1]{\contclld^{#1} \;}
\newcommand{\done}{\m{der}_{LLD} \;}
\newcommand{\doo}{\m{run}_{LLD} \;}
\newcommand{\matchlldc}{\m{mat}_{LLDc}}
\newcommand{\mc}[1]{\matchlldc^{#1} \; }
\newcommand{\fix}[1]{\m{fix}_{LLDc}^{#1} \; }
\newcommand{\fixa}[1]{\m{fix}_{LLDa}^{#1} \; }
\newcommand{\strans}[0]{\m{update}_{LLD} \;}
\newcommand{\dc}[1]{\m{der}_{LLDc}^{#1} \;}
\newcommand{\ao}{\m{app}_{LLD} \;}
\newcommand{\matchllda}{\m{mat}_{LLDa}}
\newcommand{\ma}[1]{\matchllda^{#1} \;}
\newcommand{\da}[1]{\m{der}_{LLDa}^{#1} \;}
\newcommand{\conta}[1]{\m{cont}_{LLDa}^{#1} \;}
\newcommand{\lstack}[1]{\mathcal{#1}}
\newcommand{\trans}[2]{#1 \;\; \mapsto \;\; #2}
\newcommand{\transx}[2]{#1 \;\; \mapsto \\ #2}
\newcommand{\transs}[2]{#1 \;\; \mapsto^{*} \;\; #2}
\newcommand{\dostate}[4]{\mathtt{infer} \; #1; #2; #3; #4}
\newcommand{\appstate}[5]{\mathtt{apply} \; #1; #2; #3; #4; #5}
\newcommand{\rulestk}[0]{\lstack{R}}
\newcommand{\matstate}[7]{{\blacktriangleright}_{#1}^{\mzname^\Gamma \; #7} \; #2; #3; #4; #5; #6}
\newcommand{\lframe}[6]{\underset{\mzname^{\Gamma} \; #5 \rightarrow #6}{(#1; #2; #3; #4)}}
\newcommand{\pframe}[6]{\underset{\mzname^{\Gamma} \; #5 \rightarrow #6}{[#1; #2; #3; #4]}}
\newcommand{\contstate}[4]{\triangleleft_{#1} \; #2; #3; #4}
\newcommand{\failstate}[2]{\m{fail}_{#1; #2}}
\newcommand{\derstatex}[6]{\curvearrowright_{#3}^{#4; #5} #1; #2; #6}
\newcommand{\finalstate}[3]{\circlearrowleft #1 ; #2; #3}
\newcommand{\matstatea}[7]{{{}^{\Gamma_{N1}; \Delta_{N1}}_{\Omega_N ; #1 ;
   \Xi}\blacktriangleright}_{\m{agg} ; #7}^{\mzname^\Gamma \; #6} \;
#2; #3; #4; #5}
\newcommand{\contstatea}[4]{{{}^{\Gamma_{N1}; \Delta_{N1}}_{\Omega_N ; #1 ;
   \Xi}\triangleleft}_{\m{agg} ; #4} \; #2 ; #3}
\newcommand{\fixstatea}[5]{{{}^{\Gamma_{N1} ; \Delta_{N1}}_{\Omega_N ; #1;
#2}\bowtie}_{\m{agg} ; #5} \; #3 ; #4}
\newcommand{\derstatea}[7]{{{}_{\Omega_N ; #1 ;
#2}\curvearrowright}_{\m{agg} ; #5}^{#3; #4} \; #6 ; \Gamma ; #7}

% term equivalence
\newcommand{\feq}[2]{#1 \equiv^{\theta_1, \theta_2} #2}
\newcommand{\feqa}[4]{#1 \equiv^{#3, #4} #2}

%\newcommand{\outsem}[0]{\Xi'; \Delta'; \Gamma'}
\newcommand{\outsem}[0]{\mathcal{O}}
\newcommand{\code}[1]{\texttt{#1}}
