%for a more compact document, add the option openany to avoid
%starting all chapters on odd numbered pages
\documentclass[12pt]{cmuthesis}

% some useful packages
\input{packages}
\graphicspath{{./figures/}{./benchmarks/data/}{./benchmarks/}}
\input{macros}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=15pt \thm@postskip=15pt
}
\makeatother
\makeatletter
\newtheoremstyle{indented}
  {15pt}% space before
  {0pt}% space after
  {\parshape 1 0em \linewidth}% body font
  {0pt}% indent
  {\bfseries}% header font
  {.}% punctuation
   {\newline}% after theorem header
  {}% header specification (empty for default)
\makeatother

\theoremstyle{indented}

% Approximately 1" margins, more space on binding side
%\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar]{geometry}
%for general printing (not binding)
\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar,hmarginratio=1:1]{geometry}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\declaretheorem{theorem}
\newtheorem{invariant}{Invariant}
\AtBeginEnvironment{theorem}{\parindent0pt}
\AtBeginEnvironment{lemma}{\parindent0pt}
\AtBeginEnvironment{definition}{\parindent0pt}
\AtBeginEnvironment{corollary}{\parindent0pt}
\AtBeginEnvironment{invariant}{\parindent0pt}

% Provides a draft mark at the top of the document. 
\draftstamp{\today}{}
\thispagestyle{empty}

\begin{document}

\include{thesis-cover}
\thispagestyle{empty}
\clearpage

\frontmatter
\input{abstract}

\begin{acknowledgments}
\input{ack}
\end{acknowledgments}

\tableofcontents
\listoffigures
\listoftables
\renewcommand{\listtheoremname}{List of Equations}
\listoftheorems

\mainmatter

%% Double space document for easy review:
%\renewcommand{\baselinestretch}{1.66}\normalsize

% The other requirements Catherine has:
%
%  - avoid large margins.  She wants the thesis to use fewer pages, 
%    especially if it requires colour printing.
%
%  - The thesis should be formatted for double-sided printing.  This
%    means that all chapters, acknowledgements, table of contents, etc.
%    should start on odd numbered (right facing) pages.
%
%  - You need to use the department standard tech report title page.  I
%    have tried to ensure that the title page here conforms to this
%    standard.
%
%  - Use a nice serif font, such as Times Roman.  Sans serif looks bad.
%
% Other than that, just make it look good...

\mainmatter
\chapter{Introduction}
\input{introduction}

\chapter{Parallel Programming, Declarative Programming and Provability}
\input{background}

\chapter{Linear Meld: The Base Language}
\input{language}

%\iffalse

\chapter{Multicore Implementation: Parallelism and Optimizations}\label{chapter:implementation}
\input{implementation}

\chapter{Logical Foundations: Abstract Machine}
\input{logic_foundations}


\chapter{Coordination: Scheduling and Partitioning}\label{chapter:coordination}
\input{coordination}

\chapter{Thread-Based Facts: Exploring Explicit Parallelism}
\input{thread}


\chapter{Conclusions}
\input{conclusions}

\appendix
\include{appendix}

%\fi
\backmatter

%\renewcommand{\baselinestretch}{1.0}\normalsize

% By default \bibsection is \chapter*, but we really want this to show
% up in the table of contents and pdf bookmarks.
\renewcommand{\bibsection}{\chapter{\bibname}}
%\newcommand{\bibpreamble}{This text goes between the ``Bibliography''
%  header and the actual list of references}
\bibliographystyle{plainnat}
\bibliography{refs} %your bib file

\end{document}
