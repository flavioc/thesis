%for a more compact document, add the option openany to avoid
%starting all chapters on odd numbered pages
\documentclass[12pt]{cmuthesis}

% some useful packages
\usepackage{times}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{amsmath}
\usepackage{url}
\usepackage{fancyvrb}
\usepackage{verbatim}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{floatrow}
\usepackage{proof-dashed}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{mathtools}
\usepackage{etoolbox}
\usepackage[]{algorithm2e}
\usepackage[numbers,sort]{natbib}
\usepackage[backref,pageanchor=true,plainpages=false, pdfpagelabels, bookmarks,bookmarksnumbered,
%pdfborder=0 0 0,  %removes outlines around hyper links in online display
]{hyperref}
\graphicspath{{./figures/}{./benchmarks/data/}{./benchmarks/}}
\input{macros}
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=15pt \thm@postskip=15pt
}
\makeatother
\makeatletter
\newtheoremstyle{indented}
  {15pt}% space before
  {0pt}% space after
  {\parshape 1 0em \linewidth}% body font
  {0pt}% indent
  {\bfseries}% header font
  {.}% punctuation
   {\newline}% after theorem header
  {}% header specification (empty for default)
\makeatother

\theoremstyle{indented}

% Approximately 1" margins, more space on binding side
%\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar]{geometry}
%for general printing (not binding)
\usepackage[letterpaper,twoside,vscale=.8,hscale=.75,nomarginpar,hmarginratio=1:1]{geometry}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
%\newtheorem{theorem}{Theorem}
\declaretheorem{theorem}
\newtheorem{invariant}{Invariant}
\AtBeginEnvironment{theorem}{\parindent0pt}
\AtBeginEnvironment{lemma}{\parindent0pt}
\AtBeginEnvironment{definition}{\parindent0pt}
\AtBeginEnvironment{corollary}{\parindent0pt}
\AtBeginEnvironment{invariant}{\parindent0pt}

% Provides a draft mark at the top of the document. 
\draftstamp{\today}{}

\begin{document} 
\include{thesis-cover}
%\include{cmu-cover}
\pagestyle{plain} % for toc, was empty

%% Obviously, it's probably a good idea to break the various sections of your thesis
%% into different files and input them into this file...

\input{abstract}

%\begin{acknowledgments}
%My advisor is cool.
%\end{acknowledgments}



\tableofcontents
\listoffigures
\listoftables
\renewcommand{\listtheoremname}{List of Equations}
\listoftheorems

\mainmatter

%% Double space document for easy review:
%\renewcommand{\baselinestretch}{1.66}\normalsize

% The other requirements Catherine has:
%
%  - avoid large margins.  She wants the thesis to use fewer pages, 
%    especially if it requires colour printing.
%
%  - The thesis should be formatted for double-sided printing.  This
%    means that all chapters, acknowledgements, table of contents, etc.
%    should start on odd numbered (right facing) pages.
%
%  - You need to use the department standard tech report title page.  I
%    have tried to ensure that the title page here conforms to this
%    standard.
%
%  - Use a nice serif font, such as Times Roman.  Sans serif looks bad.
%
% Other than that, just make it look good...

%\iffalse
\chapter{Introduction}
\input{introduction}

\chapter{Related Work}
\input{related_work}
%\fi

\chapter{Linear Meld}
\input{language}

%\iffalse

\chapter{Multicore Implementation}
\input{implementation}

\chapter{Logical Foundations}
\input{logic_foundations}


\chapter{Coordination}\label{chapter:coordination}
\input{coordination}

\chapter{Thread Linear Meld}
\input{thread}


\chapter{Experimental Results}\label{chapter:exp}
\input{experiments}

\chapter{Conclusions}
\input{conclusions}

\appendix
\include{appendix}

%\fi
\backmatter

%\renewcommand{\baselinestretch}{1.0}\normalsize

% By default \bibsection is \chapter*, but we really want this to show
% up in the table of contents and pdf bookmarks.
\renewcommand{\bibsection}{\chapter{\bibname}}
%\newcommand{\bibpreamble}{This text goes between the ``Bibliography''
%  header and the actual list of references}
\bibliographystyle{plainnat}
\bibliography{refs} %your bib file

\end{document}
